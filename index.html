<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WhatsApp - Pagina simplă</title>
  <style>
    :root{
      --wa:#25D366; --dark:#072127; --card:#0f2630; --text:#e8fbf2;
    }
    body{
      margin:0; font-family:Arial,Helvetica,sans-serif; background:linear-gradient(180deg,#04212a,#071827);
      color:var(--text); display:flex; align-items:center; justify-content:center; height:100vh;
    }
    .card{
      width:95%; max-width:720px; background:var(--card); border-radius:12px; padding:20px; box-shadow:0 12px 40px rgba(0,0,0,0.6);
    }
    h1{ margin:0 0 10px 0; font-size:20px; }
    p{ margin:0 0 14px 0; color:rgba(232,251,242,0.9); }
    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .btn{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:8px; border:0; cursor:pointer; font-weight:700;
      text-decoration:none; color:#04260f;
    }
    .btn.wa{ background:var(--wa); box-shadow:0 8px 20px rgba(37,211,102,0.16); }
    .btn.share{ background:#128C7E; color:#fff; }
    .btn.ghost{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.04); }
    .muted{ color:rgba(232,251,242,0.8); font-size:14px; margin-top:12px; }
    .qr { margin-left:auto; }
    .qr img{ width:110px; height:110px; border-radius:8px; border:4px solid rgba(255,255,255,0.03); background:#fff; }

    /* floating button bottom-right */
    .float-wa{
      position:fixed; right:18px; bottom:18px; z-index:9999;
      display:inline-flex; align-items:center; gap:10px; padding:12px 14px; border-radius:50px;
      background:var(--wa); color:#04260f; font-weight:800; text-decoration:none; box-shadow:0 10px 30px rgba(0,0,0,0.4);
    }
    .float-wa svg{ width:20px; height:20px; }

    @media (max-width:560px){
      .row { flex-direction:column; align-items:stretch; }
      .qr { margin-left:0; display:flex; justify-content:center; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>WhatsApp — Deschide chat sau share</h1>
    <p>Buton pentru a deschide chat direct (click-to-chat), buton de share și cod QR pentru utilizatorii de pe mobil.</p>

    <div class="row">
      <!-- Replace PHONE_NUMBER and message in the script variables below -->
      <a id="openChat" class="btn wa" href="#" target="_blank" rel="noopener">
        <!-- WhatsApp SVG icon -->
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width:20px;height:20px;">
          <path d="M21 12.07C21 17.11 16.97 21.14 11.93 21.14c-1.98 0-3.84-.54-5.44-1.49L3 21l1.35-3.46C3.42 16.63 3 14.88 3 13.05 3 7.01 7.03 3 12.07 3S21 7.03 21 12.07z" fill="#fff" opacity=".08"/>
          <path d="M17.1 15.07c-.27.75-1.55 1.43-2.17 1.52-.58.09-1.42.13-2.81-.5-3.92-1.9-6.42-5.47-6.72-5.88-.3-.4-2.28-3.09 2.2-7.36C10.97 2.14 12.04 2 12.85 2c.77 0 1.3.06 1.85.39.88.55 1.59 1.66 1.94 2.22.3.48.18.86-.13 1.27-.31.41-.9 1.02-1.31 1.47-.41.45-.28.76.09 1.13.37.36 1.09 1.14 1.46 1.5.36.35.61.78.28 1.53z" fill="#04260f"/>
        </svg>
        Deschide chat WhatsApp
      </a>

      <a id="shareBtn" class="btn share" href="#" target="_blank" rel="noopener">Share pe WhatsApp</a>

      <button id="copyLink" class="btn ghost" title="Copiază linkul paginii">Copiază link pagină</button>

      <div class="qr" id="qrContainer" title="Scanează cu camera (WhatsApp Web pe mobil)">
        <!-- QR will be placed here -->
      </div>
    </div>

    <div class="muted">Sugestie: pune numărul tău în variabila <code>PHONE_NUMBER</code> din scriptul de mai jos (format: cod țară + număr, fără + sau 00). Exemplu: <code>40741234567</code>.</div>
  </div>

  <!-- floating WA button -->
  <a id="floatWa" class="float-wa" href="#" target="_blank" rel="noopener">
    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.07C21 17.11 16.97 21.14 11.93 21.14c-1.98 0-3.84-.54-5.44-1.49L3 21l1.35-3.46C3.42 16.63 3 14.88 3 13.05 3 7.01 7.03 3 12.07 3S21 7.03 21 12.07z" fill="#fff" opacity=".08"/><path d="M17.1 15.07c-.27.75-1.55 1.43-2.17 1.52-.58.09-1.42.13-2.81-.5-3.92-1.9-6.42-5.47-6.72-5.88-.3-.4-2.28-3.09 2.2-7.36C10.97 2.14 12.04 2 12.85 2c.77 0 1.3.06 1.85.39.88.55 1.59 1.66 1.94 2.22.3.48.18.86-.13 1.27-.31.41-.9 1.02-1.31 1.47-.41.45-.28.76.09 1.13.37.36 1.09 1.14 1.46 1.5.36.35.61.78.28 1.53z" fill="#04260f"/></svg>
    Chat
  </a>

  <script>
    /*****************************************
     * CONFIGUREAZĂ AICI
     *****************************************/
    // Pune numărul tău aici: cod țară + număr, fără + sau 00 (ex: 40741234567)
    const PHONE_NUMBER = "407XXXXXXXX"; // <--- înlocuiește cu numărul tău
    // Mesaj predefinit (va fi URL-encoded automat)
    const DEFAULT_MESSAGE = "Salut! Am găsit pagina ta și doresc informații.";

    /*****************************************
     * NU schimba restul codului dacă nu știi
     *****************************************/
    const openChat = document.getElementById("openChat");
    const shareBtn = document.getElementById("shareBtn");
    const copyLink = document.getElementById("copyLink");
    const floatWa = document.getElementById("floatWa");
    const qrContainer = document.getElementById("qrContainer");

    // build click-to-chat URL (wa.me)
    function waChatUrl(number, text){
      const msg = encodeURIComponent(text || "");
      // wa.me format
      return `https://wa.me/${encodeURIComponent(number)}${msg ? "?text=" + msg : ""}`;
    }

    // build api.whatsapp.com share URL (works on desktop + mobile)
    function waShareUrl(text){
      return `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
    }

    // set hrefs
    openChat.href = waChatUrl(PHONE_NUMBER, DEFAULT_MESSAGE);
    floatWa.href = openChat.href;

    // share current page
    shareBtn.addEventListener("click", (e) => {
      e.preventDefault();
      const text = `Vezi această pagină: ${location.href}`;
      const url = waShareUrl(text);
      window.open(url, "_blank");
    });

    // copy link
    copyLink.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(location.href);
        copyLink.innerText = "Link copiat!";
        setTimeout(()=> copyLink.innerText = "Copiază link pagină", 1800);
      } catch (err) {
        alert("Nu s-a putut copia. Copiază manual: " + location.href);
      }
    });

    /*****************************************
     * QR code for mobile scan (opens WA chat)
     * We'll generate a simple QR using an external QR service (image)
     * NOTE: This uses a public QR generator image URL (no API key).
     *****************************************/
    (function generateQR(){
      // If phone not set, don't render QR
      if(!PHONE_NUMBER || PHONE_NUMBER.includes("X")) return;
      const url = waChatUrl(PHONE_NUMBER, DEFAULT_MESSAGE);
      // Using qrserver.com API to generate QR image
      const qrImg = document.createElement("img");
      qrImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(url)}`;
      qrImg.alt = "QR WhatsApp";
      qrContainer.appendChild(qrImg);
    })();

    /*****************************************
     * Detect if WhatsApp is installed / mobile
     * (Enhance openChat to use whatsapp:// on mobile if possible)
     *****************************************/
    function isMobile(){
      return /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    }

    // On mobile, prefer whatsapp:// protocol to open app directly (some browsers may block)
    if(isMobile() && PHONE_NUMBER && !PHONE_NUMBER.includes("X")){
      // try to use whatsapp://send?phone=...&text=...
      const appUrl = `whatsapp://send?phone=${encodeURIComponent(PHONE_NUMBER)}&text=${encodeURIComponent(DEFAULT_MESSAGE)}`;
      // set a short timeout that falls back to web wa.me if app scheme fails
      openChat.addEventListener("click", (e) => {
        // let user agent handle it — we still set href to appUrl for mobile clicks
      });
      // update hrefs to appUrl (mobile)
      openChat.href = appUrl;
      floatWa.href = appUrl;
    }

    // If user didn't set PHONE_NUMBER, show a small note in console
    if(!PHONE_NUMBER || PHONE_NUMBER.includes("X")){
      console.info("Setează PHONE_NUMBER în script pentru a activa chat direct. Exemplu: const PHONE_NUMBER = '40741234567';");
    }
  </script>
</body>
</html>